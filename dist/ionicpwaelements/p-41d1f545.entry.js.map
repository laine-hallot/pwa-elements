{"version":3,"names":["cameraModalInstanceCss","PWACameraModal","this","handlePhoto","async","photo","onPhoto","emit","handleNoDeviceError","noDeviceError","handleBackdropClick","e","target","el","handleComponentClick","stopPropagation","handleBackdropKeyUp","key","render","h","class","onClick","facingMode","noDevicesButtonText","noDevicesText"],"sources":["./src/components/camera-modal/camera-modal-instance.css?tag=pwa-camera-modal-instance&encapsulation=shadow","./src/components/camera-modal/camera-modal-instance.tsx"],"sourcesContent":[":host {\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  contain: strict;\n\n  --inset-width: 600px;\n  --inset-height: 600px;\n}\n\n.wrapper {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.15);\n}\n\n.content {\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);\n  width: var(--inset-width);\n  height: var(--inset-height);\n  max-height: 100%;\n}\n\n@media only screen and (max-width: 600px) {\n  .content {\n    width: 100%;\n    height: 100%;\n  }\n}\n","import { h, Event, EventEmitter, Component, Listen, Element, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'pwa-camera-modal-instance',\n  styleUrl: 'camera-modal-instance.css',\n  shadow: true\n})\nexport class PWACameraModal {\n  @Element() el;\n  @Event() onPhoto: EventEmitter;\n  @Event() noDeviceError: EventEmitter;\n  @Prop() facingMode: string = 'user';\n  @Prop() noDevicesText = 'No camera found';\n  @Prop() noDevicesButtonText = 'Choose image';\n\n  handlePhoto = async (photo: Blob) => {\n    this.onPhoto.emit(photo);\n  }\n\n  handleNoDeviceError = async (photo: any) => {\n    this.noDeviceError.emit(photo);\n  }\n\n  handleBackdropClick(e: MouseEvent) {\n    if (e.target !== this.el) {\n      this.onPhoto.emit(null);\n    }\n  }\n\n  handleComponentClick(e: MouseEvent) {\n    e.stopPropagation();\n  }\n\n  @Listen('keyup', { target: 'body' })\n  handleBackdropKeyUp(e: KeyboardEvent) {\n    if (e.key === \"Escape\") {\n      this.onPhoto.emit(null);\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"wrapper\" onClick={e => this.handleBackdropClick(e)}>\n        <div class=\"content\">\n          <pwa-camera\n            onClick={e => this.handleComponentClick(e)}\n            facingMode={this.facingMode}\n            handlePhoto={this.handlePhoto}\n            handleNoDeviceError={this.handleNoDeviceError}\n            noDevicesButtonText={this.noDevicesButtonText}\n            noDevicesText={this.noDevicesText} />\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"yDAAA,MAAMA,EAAyB,4kB,MCOlBC,EAAc,M,uGAQzBC,KAAAC,YAAcC,MAAOC,IACnBH,KAAKI,QAAQC,KAAKF,EAAM,EAG1BH,KAAAM,oBAAsBJ,MAAOC,IAC3BH,KAAKO,cAAcF,KAAKF,EAAM,E,gBATH,O,mBACL,kB,yBACM,c,CAU9BK,oBAAoBC,GAClB,GAAIA,EAAEC,SAAWV,KAAKW,GAAI,CACxBX,KAAKI,QAAQC,KAAK,K,EAItBO,qBAAqBH,GACnBA,EAAEI,iB,CAIJC,oBAAoBL,GAClB,GAAIA,EAAEM,MAAQ,SAAU,CACtBf,KAAKI,QAAQC,KAAK,K,EAItBW,SACE,OACEC,EAAA,OAAKC,MAAM,UAAUC,QAASV,GAAKT,KAAKQ,oBAAoBC,IAC1DQ,EAAA,OAAKC,MAAM,WACTD,EAAA,cACEE,QAASV,GAAKT,KAAKY,qBAAqBH,GACxCW,WAAYpB,KAAKoB,WACjBnB,YAAaD,KAAKC,YAClBK,oBAAqBN,KAAKM,oBAC1Be,oBAAqBrB,KAAKqB,oBAC1BC,cAAetB,KAAKsB,iB"}