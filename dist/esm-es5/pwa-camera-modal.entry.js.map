{"version":3,"names":["cameraModalCss","PWACameraModal","class_1","prototype","present","camera","document","createElement","facingMode","this","addEventListener","e","__awaiter","_this","_modal","photo","detail","onPhoto","emit","noDeviceError","body","append","dismiss","parentNode","removeChild","render","h"],"sources":["src/components/camera-modal/camera-modal.css?tag=pwa-camera-modal&encapsulation=shadow","src/components/camera-modal/camera-modal.tsx"],"sourcesContent":[":host {\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  contain: strict;\n}\n\n.wrapper {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.15);\n}\n\n.content {\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);\n  width: 600px;\n  height: 600px;\n}\n","import { h, Event, EventEmitter, Component, Method, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'pwa-camera-modal',\n  styleUrl: 'camera-modal.css',\n  shadow: true\n})\nexport class PWACameraModal {\n  @Prop() facingMode: string = 'user';\n\n  @Event() onPhoto: EventEmitter;\n  @Event() noDeviceError: EventEmitter;\n\n  _modal: HTMLElement;\n\n  @Method()\n  async present() {\n    const camera = document.createElement('pwa-camera-modal-instance');\n    camera.facingMode = this.facingMode;\n\n    camera.addEventListener('onPhoto', async (e: any) => {\n      if (!this._modal) {\n        return;\n      }\n      const photo = e.detail;\n      this.onPhoto.emit(photo);\n    });\n\n    camera.addEventListener('noDeviceError', async (e: any) => {\n      this.noDeviceError.emit(e);\n    });\n\n    document.body.append(camera);\n\n    this._modal = camera;\n  }\n\n  @Method()\n  async dismiss() {\n    if (!this._modal) { return; }\n    this._modal && this._modal.parentNode.removeChild(this._modal);\n    this._modal = null;\n  }\n\n  render() {\n    return (<div></div>);\n  }\n}\n"],"mappings":"whDAAA,IAAMA,eAAiB,6a,ICOVC,eAAc,W,yJACI,M,CAQvBC,EAAAC,UAAAC,QAAN,W,sGACQC,EAASC,SAASC,cAAc,6BACtCF,EAAOG,WAAaC,KAAKD,WAEzBH,EAAOK,iBAAiB,WAAW,SAAOC,GAAM,OAAAC,UAAAC,OAAA,qB,2CAC9C,IAAKJ,KAAKK,OAAQ,CAChB,S,CAEIC,EAAQJ,EAAEK,OAChBP,KAAKQ,QAAQC,KAAKH,G,mBAGpBV,EAAOK,iBAAiB,iBAAiB,SAAOC,GAAM,OAAAC,UAAAC,OAAA,qB,qCACpDJ,KAAKU,cAAcD,KAAKP,G,mBAG1BL,SAASc,KAAKC,OAAOhB,GAErBI,KAAKK,OAAST,E,iBAIVH,EAAAC,UAAAmB,QAAN,W,qFACE,IAAKb,KAAKK,OAAQ,CAAE,S,CACpBL,KAAKK,QAAUL,KAAKK,OAAOS,WAAWC,YAAYf,KAAKK,QACvDL,KAAKK,OAAS,K,iBAGhBZ,EAAAC,UAAAsB,OAAA,WACE,OAAQC,EAAA,W,WAtCe,G"}